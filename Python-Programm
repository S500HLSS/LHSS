import os, sys, shutil


data_list = os.scandir(".")
print("Folders: ")

for folder in data_list:
    if os.path.isdir(folder):
        print(folder.name)

while True:
    folder_choice = input("Please select folder: ")
    if os.path.exists(folder_choice):
        print("Folder found.")
        break
    else:
        print("Folder not found, please choose again.")

try:
    os.chdir("C:/Desktop/")
    if not os.path.exists("Kopien"):
        os.mkdir("Kopien")
    os.chdir("C:/Desktop/Kopien")
    if not os.path.exists("Videos"):
        os.mkdir("Videos")
    if not os.path.exists("Fotos"):
        os.mkdir("Fotos")
        
except:
    print("Error.")
    sys.exit(0)
    

def sort_files(folder_choice):
    folder = os.scandir(folder_choice)
    for file in folder:
        file_ending = file[len(file)-4:len(file)]
        copy_name = file.name[0:len(file.name)-4]
        new_file_name = copy_name + "_copy" + file_ending
        copy = shutil.copy2(file.name, new_file_name)
        os.chdir("C:/Desktop/Kopien")
        if file.name.endswith(".mp4") or file.name.endswith(".wav"):
            os.chdir("C:/Desktop/Kopien/Videos/")
            if not copy in "Videos":
                shutil.move(copy, "Videos")
        if file.name.endswith(".jpg") or file.name.endswith(".png"):
            os.chdir("C:/Desktop/Kopien/Fotos/")
            if not copy in "Fotos":
                shutil.move(copy, "Fotos")
                
sort_files(folder_choice)
